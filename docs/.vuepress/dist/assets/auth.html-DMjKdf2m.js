import{_ as s,c as n,o as a,d as p}from"./app-DtWMaI0v.js";const t={},e=p(`<h2 id="auth-shoulduse-guard" tabindex="-1"><a class="header-anchor" href="#auth-shoulduse-guard"><span><code>Auth::shouldUse($guard)</code></span></a></h2><p>这行代码的意思是设置应该使用哪个认证守卫（authentication guard）。让我解释一下：</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre class="language-php"><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">handle</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Closure</span> <span class="token variable">$next</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name return-type">Response</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">guards</span> <span class="token keyword">as</span> <span class="token variable">$guard</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name static-context">Auth</span><span class="token operator">::</span><span class="token function">guard</span><span class="token punctuation">(</span><span class="token variable">$guard</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name static-context">Auth</span><span class="token operator">::</span><span class="token function">shouldUse</span><span class="token punctuation">(</span><span class="token variable">$guard</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token variable">$next</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// ... 后续代码</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Auth::shouldUse($guard)</code> 的具体含义是：</p><ol><li>指定后续的认证操作应该使用哪个守卫。</li><li><strong>它告诉 Laravel 的认证系统，对于当前请求，应该使用指定的 $guard 进行所有的认证操作。</strong></li><li>这很重要，因为在一个应用中可能有多个不同的认证守卫（例如用户、管理员、API 等），<code>shouldUse</code> 确保使用正确的守卫。</li><li>调用此方法后，如果你在控制器或其他地方使用 <code>Auth::user()</code>，它会自动使用这里指定的守卫。</li></ol><p>在这个中间件中，它首先检查每个守卫是否已经通过认证。一旦找到一个已认证的守卫，就设置它为当前请求应使用的守卫，然后允许请求继续处理。</p><p>这样可以确保在多守卫系统中，始终使用正确的认证上下文来处理请求。</p>`,7),c=[e];function o(l,u){return a(),n("div",null,c)}const r=s(t,[["render",o],["__file","auth.html.vue"]]),k=JSON.parse('{"path":"/laravel/auth.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Auth::shouldUse($guard)","slug":"auth-shoulduse-guard","link":"#auth-shoulduse-guard","children":[]}],"git":{"updatedTime":1726672717000,"contributors":[{"name":"BaronYan","email":"1229598328@qq.com","commits":1}]},"filePathRelative":"laravel/auth.md","excerpt":"<h2><code>Auth::shouldUse($guard)</code></h2>\\n<p>这行代码的意思是设置应该使用哪个认证守卫（authentication guard）。让我解释一下：</p>\\n<div class=\\"language-php\\" data-highlighter=\\"prismjs\\" data-ext=\\"php\\" data-title=\\"php\\"><pre class=\\"language-php\\"><code><span class=\\"line\\"><span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">function</span> <span class=\\"token function-definition function\\">handle</span><span class=\\"token punctuation\\">(</span><span class=\\"token class-name type-declaration\\">Request</span> <span class=\\"token variable\\">$request</span><span class=\\"token punctuation\\">,</span> <span class=\\"token class-name type-declaration\\">Closure</span> <span class=\\"token variable\\">$next</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">:</span> <span class=\\"token class-name return-type\\">Response</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">    <span class=\\"token keyword\\">foreach</span> <span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$this</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token property\\">guards</span> <span class=\\"token keyword\\">as</span> <span class=\\"token variable\\">$guard</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">        <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token class-name static-context\\">Auth</span><span class=\\"token operator\\">::</span><span class=\\"token function\\">guard</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$guard</span><span class=\\"token punctuation\\">)</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">check</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">            <span class=\\"token class-name static-context\\">Auth</span><span class=\\"token operator\\">::</span><span class=\\"token function\\">shouldUse</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$guard</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span></span>\\n<span class=\\"line\\">            <span class=\\"token keyword\\">return</span> <span class=\\"token variable\\">$next</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$request</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span></span>\\n<span class=\\"line\\">        <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">    <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">    <span class=\\"token comment\\">// ... 后续代码</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span></code></pre></div>"}');export{r as comp,k as data};
